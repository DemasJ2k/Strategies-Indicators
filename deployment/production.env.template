# ═══════════════════════════════════════════════════════════════
# Flowrex Production Environment Configuration
# ═══════════════════════════════════════════════════════════════
# Copy this file to production.env and fill in your actual values
# NEVER commit production.env to version control

# ═══════════════════════════════════════════════════════════════
# Core Server Config
# ═══════════════════════════════════════════════════════════════

NODE_ENV=production
PORT=4000

# Public URLs (for CORS, webhooks if needed)
BACKEND_PUBLIC_URL=https://your-flowrex-backend.com
FRONTEND_PUBLIC_URL=https://your-flowrex-frontend.com

# ═══════════════════════════════════════════════════════════════
# Database - PostgreSQL (REQUIRED)
# ═══════════════════════════════════════════════════════════════
# For Docker Compose: This is overridden internally to point to postgres service
# For Railway/Render: Use their auto-injected DATABASE_URL

DATABASE_URL=postgres://flowrex:flowrex_password@postgres:5432/flowrex_db

# ═══════════════════════════════════════════════════════════════
# Authentication & Encryption (REQUIRED)
# ═══════════════════════════════════════════════════════════════

# Generate with: openssl rand -base64 64
JWT_SECRET=change_this_to_a_long_random_string

# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=change_this_to_32+_random_bytes_minimum

# ═══════════════════════════════════════════════════════════════
# OpenAI API (REQUIRED for AI Signal Engine)
# ═══════════════════════════════════════════════════════════════

OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o
OPENAI_FALLBACK_MODEL=gpt-4o-mini
OPENAI_MINI_MODEL=gpt-4o-mini

# ═══════════════════════════════════════════════════════════════
# Broker Data Providers (Optional - Global Fallbacks)
# ═══════════════════════════════════════════════════════════════
# Note: Users can add their own keys in Workspace Settings
# These serve as global fallbacks if user hasn't configured their own

# OANDA Forex
OANDA_API_KEY=
OANDA_ACCOUNT_ID=
OANDA_ENV=practice

# FXCM Forex
FXCM_API_KEY=
FXCM_API_SECRET=

# Binance Crypto
BINANCE_API_KEY=
BINANCE_API_SECRET=

# Bybit Derivatives
BYBIT_API_KEY=
BYBIT_API_SECRET=

# ═══════════════════════════════════════════════════════════════
# Logging & Debug
# ═══════════════════════════════════════════════════════════════

DEBUG_MODE=false
LOG_LEVEL=info

# ═══════════════════════════════════════════════════════════════
# Production Security (Optional)
# ═══════════════════════════════════════════════════════════════

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Session secret (if using sessions)
SESSION_SECRET=

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
